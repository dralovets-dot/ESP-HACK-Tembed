#ifndef SETTINGS_MENU_H
#define SETTINGS_MENU_H

#include <Adafruit_SH110X.h>
#include "CONFIG.h"

#define SETTINGS_MENU_ITEM_COUNT 3
static const char* settingsMenuItems[] = {"Color", "Standby", "About"};

static const unsigned char PROGMEM image_Teapot_bits[] = {
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xf0,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfc,
  0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfe,0x00,
  0x00,0x00,0x00,0x00,0x01,0xff,0xfe,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfe,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfe,0x00,0x00,
  0x00,0x00,0x00,0x01,0xff,0xfe,0x00,0x00,0x00,0x00,0x00,0x01,0xff,0xfe,0x00,0x00,0x00,0x00,0x00,0x07,0xff,0xff,0x80,0x00,0x00,
  0x00,0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,
  0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,
  0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x0f,0xff,0xff,0xc0,0x00,0x00,0x00,0x00,0x07,0xff,0xff,0x80,0x00,0x00,0x00,0x00,0x03,
  0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x03,0xff,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0xfd,0xfe,0x00,0x00,0x00,0x00,0x00,0x00,0xfe,
  0x7e,0x00,0x00,0x00,0x00,0x00,0x00,0xfe,0x7f,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0x7f,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0x7f,
  0x80,0x00,0x00,0x00,0x00,0x00,0xff,0x7f,0x80,0x00,0x00,0x00,0x00,0x00,0xff,0x7f,0x80,0x00,0x00,0x00,0x00,0x00,0xff,0x7f,0x80,
  0x00,0x00,0x00,0x00,0x01,0xff,0x7f,0x80,0x00,0x00,0x00,0x00,0x01,0xff,0x7f,0x80,0x00,0x00,0x00,0x00,0x01,0xff,0x7f,0x80,0x00,
  0x00,0x00,0x00,0x01,0xff,0x7f,0x80,0x00,0x00,0x00,0x00,0x01,0xff,0x7f,0x80,0x00,0x00,0x00,0x00,0x00,0xfc,0x3f,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};


  extern const unsigned char PROGMEM image_Teapot_bits[];



void displaySettingsMenu(Adafruit_SH1106G &display, byte menuIndex) {
  display.clearDisplay();

  byte next = (menuIndex + 1) % SETTINGS_MENU_ITEM_COUNT;
  byte prev = (menuIndex + SETTINGS_MENU_ITEM_COUNT - 1) % SETTINGS_MENU_ITEM_COUNT;

  int16_t x1, y1;
  uint16_t w, h;

  display.setTextSize(2);
  display.getTextBounds(settingsMenuItems[menuIndex], 0, 0, &x1, &y1, &w, &h);
  display.setCursor((128 - w) / 2, 25);
  display.print(settingsMenuItems[menuIndex]);
  
  display.setTextSize(1);
  display.getTextBounds(settingsMenuItems[next], 0, 0, &x1, &y1, &w, &h);
  display.setCursor((128 - w) / 2, 50);
  display.print(settingsMenuItems[next]);

  display.getTextBounds(settingsMenuItems[prev], 0, 0, &x1, &y1, &w, &h);
  display.setCursor((128 - w) / 2, 7);
  display.print(settingsMenuItems[prev]);
  
  display.setCursor(2, 30);
  display.print(">");
  display.setCursor(120, 30);
  display.print("<");
  
  display.display();
}

#endif
